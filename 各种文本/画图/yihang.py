import numpy as np
import matplotlib.pyplot as plt
import scipy.io.wavfile as wav
import os
import numpy.fft as nf
import zhengguihua as zg



basedir = r'C:\Users\a7825\Desktop\工作空间\セミナー\语音\wav/C001L_007.wav'
# audio = [5.020162443,7.062058052,8.206312793,8.477766513,6.939677961,9.02754378,10.98885401,12.26137693,13.04467954,13.55260846,13.81933694,13.93341956,13.16621441,10.61659163,10.3159524,10.12825274,10.06374822,9.842111249,8.268098582,6.47249587,5.18264182,4.584475724,3.162814859,4.421547092,4.018440058,3.339285473,2.514496761,4.300423527,3.476288876,0.496762568,-1.489685826,-1.558925306]
# audio = [7.462092648,8.449361125,8.897478234,8.577313034,9.814323843,8.922236694,8.214681706,8.896822923,8.971891025,8.994566059,7.955724931,7.518795627,7.98719619,8.624433554,9.432816743,9.425783358,9.315766001,11.25231024,11.48749092,11.95947063,12.91748896,12.25489739,11.96363403,12.18497945,13.62223177,13.57705238,14.52730638,14.5225563,14.13847447,13.366168,13.33830108,13.65811141]

# audio = np.array(audio)
# audio = nf.fft(audio)#进行傅里叶变化
# audio = np.abs(audio)#取绝对值


#为了让图好看一点
# audio = [60.65582771,50.47928317,15.4399977,8.63014531,6.25051234,10.5219749,16.66272994,18.11247775,15.12637887,2.85853272,0.80085689,5.19032934,3.3833061,3.82705999,5.06535763,1.93775242,0.25976002,1.93775242,5.06535763,3.82705999,3.3833061,5.19032934,0.80085689,2.85853272,5.12637887,8.11247775,16.66272994,10.5219749,22.25051234,8.63014531,15.4399977,90.47928317]

# audio = np.array(audio)
# print(audio)
# print(audio.shape)
# xf = np.arange(len(audio))

# plt.xticks([0, 6, 12.4, 18.8, 25.2, 31.6], ['0', '10', '20', '30', '40', '50'])
# plt.plot(xf,audio)
# plt.show()

#单独画一行fbank
# audio = [7.462092648,8.449361125,8.897478234,8.577313034,9.814323843,8.922236694,8.214681706,8.896822923,8.971891025,8.994566059,7.955724931,7.518795627,7.98719619,8.624433554,9.432816743,9.425783358,9.315766001,11.25231024,11.48749092,11.95947063,12.91748896,12.25489739,11.96363403,12.18497945,13.62223177,13.57705238,14.52730638,14.5225563,14.13847447,13.366168,13.33830108,13.65811141]

audio_15 = [4.546627058,4.049430003,5.709941579,4.484800347,6.15459452,8.392025511,11.84970874,12.62677263,12.10447844,11.24800447,10.91733001,8.51132106,6.846917662,5.539795947,5.25430004,9.73067073,11.99560893,13.11430366,12.17335187,11.89709414,11.30484424,10.89619021,9.943404319,10.0160739,9.595319557,9.904793871,10.66595432,10.59548582,12.65132959,12.4422237,11.97070181,11.06308606]
audio_15 = np.array(audio_15)

audio_15 = zg.zg(audio_15,block = len(audio_15))


audio_15 = nf.fft(audio_15)#进行傅里叶变化
audio_15 = np.abs(audio_15)#取绝对值

audio_15 = audio_15[int(len(audio_15)/2):int(len(audio_15))]#去一半



xf = np.arange(len(audio_15))#设置x轴

n = 2.95
plt.xticks([0, n*1, n*2, n*3, n*4, n*5], ['0', '10', '20', '30', '40', '50'])#为了表示横坐标的频率，把很坐标改了
plt.plot(xf,audio_15)
plt.show()



